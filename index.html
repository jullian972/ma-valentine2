<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Veux-tu Ãªtre ma Valentine ? ðŸ’–</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
  body { 
    margin: 0; 
    font-family: Arial, sans-serif; 
    text-align: center; 
    background: #FF5AAC;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
  }

  .container {
    background: white;
    border-radius: 20px;
    width: 780px;
    height: 520px;
    padding: 30px;
    box-shadow: 0 10px 25px rgba(0,0,0,0.2);
    position: relative;
  }

  h1 {
    color: #FF5AAC;
    margin: 10px 0 20px;
  }

  img { 
    display: block;
    margin: 20px auto; 
    max-width: 80%; 
    border-radius: 15px; 
  }

  .zone {
    position: relative;
    width: 100%;
    height: 120px;
    margin-top: 20px;
  }

  button {
    padding: 15px 40px;
    font-size: 18px;
    border-radius: 10px;
    border: none;
    cursor: pointer;
    position: absolute;
    user-select: none;

    /* effet zoom + ombre au survol */
    transition: transform 0.2s ease, box-shadow 0.2s ease;
  }

  button:hover {
    transform: scale(1.05);
    box-shadow: 0 6px 15px rgba(0,0,0,0.25);
  }

  #oui { background: green; color: white; }
  #non { background: red; color: white; }

  #avertissement {
    position: absolute;
    color: red;
    font-size: 16px;
    font-weight: bold;
    white-space: nowrap;
    pointer-events: none;
  }

  @keyframes flecheLoop {
    0% { transform: rotate(0deg); }
    25% { transform: rotate(-20deg); }
    50% { transform: rotate(20deg); }
    75% { transform: rotate(-10deg); }
    100% { transform: rotate(0deg); }
  }

  #avertissement span {
    display: inline-block;
    animation: flecheLoop 1s infinite;
    margin-right: 6px;
  }
</style>
</head>

<body>

<div class="container">
  <h1>MaÃ«ly tu veux Ãªtre ma Valentine ? ðŸ’–</h1>

  <img src="homme.jpg" alt="Photo Valentine">

  <div class="zone">
    <button id="oui">Oui</button>
    <button id="non">Non</button>
    <div id="avertissement"><span>â†©</span>PitiÃ© n'appuie pas lÃ </div>
  </div>
</div>

<script>
const oui = document.getElementById("oui");
const non = document.getElementById("non");
const zone = document.querySelector(".zone");
const avertissement = document.getElementById("avertissement");

let scaleOui = 1;
const maxScale = 2.0;   // taille max
const scaleStep = 0.2;  // augmentation progressive
const padding = 10;

function positionInitiale() {
  const zoneWidth = zone.offsetWidth;
  const zoneHeight = zone.offsetHeight;

  const btnWidth = 100;
  const btnHeight = 50;
  const space = 30;

  const centerX = zoneWidth / 2;
  const centerY = zoneHeight / 2 + 10;

  oui.style.left = (centerX - btnWidth - space) + "px";
  oui.style.top = (centerY - btnHeight / 2) + "px";

  non.style.left = (centerX + space) + "px";
  non.style.top = (centerY - btnHeight / 2) + "px";

  avertissement.style.left = (non.offsetLeft + non.offsetWidth + 10) + "px";
  avertissement.style.top =
    non.offsetTop +
    non.offsetHeight / 2 -
    avertissement.offsetHeight / 2 +
    "px";
}

positionInitiale();
window.addEventListener("resize", positionInitiale);

function bougerNon() {
  const zoneWidth = zone.offsetWidth;
  const zoneHeight = zone.offsetHeight;
  const nonWidth = non.offsetWidth;
  const nonHeight = non.offsetHeight;

  let newLeft, newTop, overlap;

  do {
    newLeft = Math.random() * (zoneWidth - nonWidth - 2*padding) + padding;
    newTop = Math.random() * (zoneHeight - nonHeight - 2*padding) + padding;

    const nonRect = { left: newLeft, top: newTop, right: newLeft + nonWidth, bottom: newTop + nonHeight };
    const ouiRectRelative = { left: oui.offsetLeft, top: oui.offsetTop, right: oui.offsetLeft + oui.offsetWidth, bottom: oui.offsetTop + oui.offsetHeight };

    overlap = !(nonRect.right < ouiRectRelative.left ||
                nonRect.left > ouiRectRelative.right ||
                nonRect.bottom < ouiRectRelative.top ||
                nonRect.top > ouiRectRelative.bottom);
  } while(overlap);

  non.style.left = newLeft + "px";
  non.style.top = newTop + "px";

  // Oui grossit petit Ã  petit
  if (scaleOui < maxScale) {
    scaleOui += scaleStep;
    oui.style.transform = `scale(${scaleOui})`;
  }

  // repositionne le texte avertissement
  if (avertissement.style.display !== "none") {
    avertissement.style.left = (non.offsetLeft + non.offsetWidth + 10) + "px";
    avertissement.style.top =
      non.offsetTop +
      non.offsetHeight / 2 -
      avertissement.offsetHeight / 2 +
      "px";
  }
}

function cacherAvertissement() {
  avertissement.style.display = "none";
  non.removeEventListener("mouseenter", cacherAvertissement);
  non.removeEventListener("touchstart", cacherAvertissement);
}

non.addEventListener("mouseenter", bougerNon);
non.addEventListener("touchstart", bougerNon, { passive: false });

non.addEventListener("mouseenter", cacherAvertissement);
non.addEventListener("touchstart", cacherAvertissement, { passive: false });

oui.addEventListener("click", () => {
  window.location.href = "page2.html";
});
</script>

</body>
</html>
