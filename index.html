<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Veux-tu Ãªtre ma Valentine ? ðŸ’–</title>

<style>
body { 
  margin: 0; 
  font-family: Arial, sans-serif; 
  background: #FF5AAC;
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
}

.container {
  background: white;
  border-radius: 20px;
  width: 780px;
  height: 520px;
  padding: 30px;
  box-shadow: 0 10px 25px rgba(0,0,0,0.2);
  position: relative;
  text-align: center;
}

h1 {
  color: #FF5AAC;
  margin-bottom: 15px;
}

img { 
  max-width: 80%;
  border-radius: 15px;
  margin-bottom: 20px;
}

.zone {
  position: relative;
  width: 100%;
  height: 140px;
}

button {
  padding: 15px 40px;
  font-size: 18px;
  border-radius: 10px;
  border: none;
  cursor: pointer;
  position: absolute;
  user-select: none;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

button:hover {
  transform: scale(1.05);
  box-shadow: 0 6px 15px rgba(0,0,0,0.25);
}

#oui {
  background: green;
  color: white;
}

#non {
  background: red;
  color: white;
}

/* Texte avertissement */
#avertissement {
  position: absolute;
  color: red;
  font-weight: bold;
  white-space: nowrap;
  pointer-events: none;
}

@keyframes flecheLoop {
  0% { transform: rotate(0deg); }
  25% { transform: rotate(-20deg); }
  50% { transform: rotate(20deg); }
  75% { transform: rotate(-10deg); }
  100% { transform: rotate(0deg); }
}

#avertissement span {
  display: inline-block;
  animation: flecheLoop 1s infinite;
  margin-right: 6px;
}

/* Texte bas */
.bottom-text {
  margin-top: 20px;
  font-size: 14px;
  color: #777;
}
</style>
</head>

<body>

<div class="container">
  <h1>Veux-tu Ãªtre ma Valentine ? ðŸ’–</h1>

  <img src="homme.jpg" alt="Photo Valentine">

  <div class="zone">
    <button id="oui">Oui</button>
    <button id="non">Non</button>
    <div id="avertissement"><span>â†©</span>PitiÃ© n'appuie pas lÃ </div>
  </div>

  <div class="bottom-text">
    Essaye quand mÃªme le non ðŸ‘€
  </div>
</div>

<script>
const oui = document.getElementById("oui");
const non = document.getElementById("non");
const zone = document.querySelector(".zone");
const avertissement = document.getElementById("avertissement");

let scaleOui = 1;
const maxScale = 2.0;
const scaleStep = 0.2;
const padding = 10;

function positionInitiale() {
  const zoneWidth = zone.offsetWidth;
  const zoneHeight = zone.offsetHeight;

  const btnWidth = oui.offsetWidth;
  const btnHeight = oui.offsetHeight;
  const space = 40;

  const centerX = zoneWidth / 2;
  const centerY = zoneHeight / 2;

  oui.style.left = (centerX - btnWidth - space) + "px";
  oui.style.top = (centerY - btnHeight / 2) + "px";

  non.style.left = (centerX + space) + "px";
  non.style.top = (centerY - btnHeight / 2) + "px";

  avertissement.style.left = (non.offsetLeft + non.offsetWidth + 10) + "px";
  avertissement.style.top =
    non.offsetTop + non.offsetHeight / 2 - avertissement.offsetHeight / 2 + "px";
}

positionInitiale();
window.addEventListener("resize", positionInitiale);

function chevaucheOui(x, y) {
  const ouiRect = oui.getBoundingClientRect();
  const zoneRect = zone.getBoundingClientRect();

  const nonRect = {
    left: zoneRect.left + x,
    right: zoneRect.left + x + non.offsetWidth,
    top: zoneRect.top + y,
    bottom: zoneRect.top + y + non.offsetHeight
  };

  return !(
    nonRect.right < ouiRect.left ||
    nonRect.left > ouiRect.right ||
    nonRect.bottom < ouiRect.top ||
    nonRect.top > ouiRect.bottom
  );
}

function bougerNon() {
  let x, y;
  let essais = 0;

  do {
    x = Math.random() * (zone.offsetWidth - non.offsetWidth - padding);
    y = Math.random() * (zone.offsetHeight - non.offsetHeight - padding);
    essais++;
  } while (chevaucheOui(x, y) && essais < 50);

  non.style.left = x + "px";
  non.style.top = y + "px";

  if (scaleOui < maxScale) {
    scaleOui += scaleStep;
    oui.style.transform = `scale(${scaleOui})`;
  }

  avertissement.style.display = "none";
}

non.addEventListener("mouseenter", bougerNon);
non.addEventListener("touchstart", bougerNon, { passive: false });

oui.addEventListener("click", () => {
  window.location.href = "page2.html";
});
</script>

</body>
</html>
